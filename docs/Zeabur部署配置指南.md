# SolarArc Pro - Zeabur éƒ¨ç½²é…ç½®æŒ‡å—

## ç›®å½•
- [ä¸€ã€Zeaburå¹³å°ä»‹ç»](#ä¸€zeaburå¹³å°ä»‹ç»)
- [äºŒã€å¿«é€Ÿå¼€å§‹](#äºŒå¿«é€Ÿå¼€å§‹)
- [ä¸‰ã€é¡¹ç›®é…ç½®æ–‡ä»¶](#ä¸‰é¡¹ç›®é…ç½®æ–‡ä»¶)
- [å››ã€ç¯å¢ƒå˜é‡é…ç½®](#å››ç¯å¢ƒå˜é‡é…ç½®)
- [äº”ã€éƒ¨ç½²æ­¥éª¤](#äº”éƒ¨ç½²æ­¥éª¤)
- [å…­ã€åŸŸåä¸HTTPS](#å…­åŸŸåä¸https)
- [ä¸ƒã€ç›‘æ§ä¸ç»´æŠ¤](#ä¸ƒç›‘æ§ä¸ç»´æŠ¤)
- [å…«ã€å¸¸è§é—®é¢˜](#å…«å¸¸è§é—®é¢˜)
- [ä¹ã€æˆæœ¬ä¼˜åŒ–](#ä¹æˆæœ¬ä¼˜åŒ–)

---

## ä¸€ã€Zeaburå¹³å°ä»‹ç»

### 1.1 ä¸ºä»€ä¹ˆé€‰æ‹©Zeaburï¼Ÿ

Zeaburæ˜¯ä¸“ä¸ºå›½å†…å¼€å‘è€…ä¼˜åŒ–çš„PaaSå¹³å°ï¼Œå…·æœ‰ä»¥ä¸‹ä¼˜åŠ¿ï¼š

| ç‰¹æ€§ | è¯´æ˜ |
|------|------|
| ğŸ‡¨ğŸ‡³ **å›½å†…å‹å¥½** | æœåŠ¡å™¨éƒ¨ç½²åœ¨å›½å†…ï¼ˆé˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰ï¼Œè®¿é—®é€Ÿåº¦å¿« |
| ğŸ’° **å…è´¹é¢åº¦** | æ¯æœˆ$5å…è´¹é¢åº¦ï¼Œé€‚åˆä¸­å°å‹é¡¹ç›® |
| ğŸš€ **è‡ªåŠ¨éƒ¨ç½²** | è¿æ¥GitHubï¼Œä»£ç æ¨é€è‡ªåŠ¨éƒ¨ç½² |
| ğŸ³ **Dockeræ”¯æŒ** | æ”¯æŒDockerfileå’Œdocker-compose.yml |
| ğŸ—„ï¸ **å†…ç½®æ•°æ®åº“** | ä¸€é”®åˆ›å»ºMySQLã€PostgreSQLã€Redis |
| ğŸ”’ **è‡ªåŠ¨HTTPS** | è‡ªåŠ¨ç”³è¯·å’Œç»­æœŸSSLè¯ä¹¦ |
| ğŸ“Š **å®æ—¶ç›‘æ§** | CPUã€å†…å­˜ã€æµé‡å®æ—¶ç›‘æ§ |
| ğŸ› ï¸ **ä¸­æ–‡ç•Œé¢** | å®Œæ•´ä¸­æ–‡æ”¯æŒ |

### 1.2 å…è´¹é¢åº¦è¯¦æƒ…

| èµ„æº | å…è´¹é¢åº¦ | ä»˜è´¹æ‰©å±• |
|------|----------|----------|
| CPU | 0.2 vCPU | Â¥10/æœˆèµ· |
| å†…å­˜ | 256MB | Â¥10/æœˆèµ· |
| å­˜å‚¨ | 1GB | æŒ‰é‡è®¡è´¹ |
| å¸¦å®½ | 50GB/æœˆ | Â¥0.8/GB |
| MySQL | 1ä¸ªå®ä¾‹ | Â¥15/æœˆèµ· |
| PostgreSQL | 1ä¸ªå®ä¾‹ | Â¥15/æœˆèµ· |

**é€‚åˆåœºæ™¯**: ä¸ªäººé¡¹ç›®ã€æ¼”ç¤ºç¯å¢ƒã€å°å‹MVPäº§å“

---

## äºŒã€å¿«é€Ÿå¼€å§‹

### 2.1 å‰ç½®è¦æ±‚

- GitHubè´¦å·ï¼ˆç”¨äºä»£ç æ‰˜ç®¡å’Œè‡ªåŠ¨éƒ¨ç½²ï¼‰
- Zeaburè´¦å·ï¼ˆ[zeabur.com](https://zeabur.com)ï¼‰
- å¯é€‰ï¼šè‡ªå®šä¹‰åŸŸåï¼ˆå¦‚ `solararc.yourdomain.com`ï¼‰

### 2.2 æ³¨å†ŒZeabur

1. è®¿é—® [zeabur.com](https://zeabur.com)
2. ç‚¹å‡»å³ä¸Šè§’ "Login"
3. é€‰æ‹© "Sign in with GitHub"ï¼ˆæ¨èï¼‰
4. é¦–æ¬¡ç™»å½•ä¼šè‡ªåŠ¨åˆ›å»ºè´¦å·

### 2.3 åˆ›å»ºé¡¹ç›®

1. ç™»å½•åè¿›å…¥Dashboard
2. ç‚¹å‡» "Create New Project"
3. è¾“å…¥é¡¹ç›®åç§°ï¼š`solararc-pro`
4. é€‰æ‹©åŒºåŸŸï¼š`China` (æ¨èå›½å†…è®¿é—®)
5. ç‚¹å‡» "Create"

---

## ä¸‰ã€é¡¹ç›®é…ç½®æ–‡ä»¶

### 3.1 é¡¹ç›®ç›®å½•ç»“æ„

```
solararc-pro/
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ Dockerfile          # Dockeré•œåƒé…ç½®
â”‚   â”œâ”€â”€ requirements.txt    # Pythonä¾èµ–
â”‚   â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ app/                # åº”ç”¨ä»£ç 
â”‚       â”œâ”€â”€ main.py         # FastAPIå…¥å£
â”‚       â”œâ”€â”€ api/            # APIè·¯ç”±
â”‚       â”œâ”€â”€ models/         # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ utils/          # å·¥å…·å‡½æ•°
â”œâ”€â”€ frontend/               # å‰ç«¯æœåŠ¡
â”‚   â”œâ”€â”€ Dockerfile          # Dockeré•œåƒé…ç½®
â”‚   â”œâ”€â”€ package.json        # Nodeä¾èµ–
â”‚   â”œâ”€â”€ nginx.conf          # Nginxé…ç½®
â”‚   â”œâ”€â”€ .env.example        # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”‚   â””â”€â”€ src/                # åº”ç”¨ä»£ç 
â”œâ”€â”€ zeabur.yml             # Zeaburé…ç½®ï¼ˆå¯é€‰ï¼‰
â””â”€â”€ README.md              # é¡¹ç›®è¯´æ˜
```

### 3.2 Zeaburé…ç½®æ–‡ä»¶ (zeabur.yml)

åˆ›å»º `zeabur.yml` æ–‡ä»¶åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼š

```yaml
# Zeaburéƒ¨ç½²é…ç½®
version: 1

# æ•°æ®åº“é…ç½®
databases:
  - name: solararc-mysql
    type: mysql
    version: "8.0"
    # å¯é€‰ï¼šè®¾ç½®å¯†ç 
    # password: ${MYSQL_PASSWORD}

# æœåŠ¡é…ç½®
services:
  # åç«¯æœåŠ¡
  - name: backend
    type: container
    source: ./backend
    dockerfile: Dockerfile
    # ç«¯å£é…ç½®
    ports:
      - port: 8000
        type: HTTP
        # å¯é€‰ï¼šè‡ªå®šä¹‰åŸŸå
        domain:
          - api.solararc.zeabur.app
    # ç¯å¢ƒå˜é‡
    env:
      - DATABASE_URL=mysql://root:${MYSQL_PASSWORD}@solararc-mysql:3306/solararc_pro
      - PYTHON_ENV=production
      - LOG_LEVEL=INFO
      - TZ=Asia/Shanghai
    # ä¾èµ–æœåŠ¡
    depends_on:
      - solararc-mysql
    # èµ„æºé™åˆ¶ï¼ˆå¯é€‰ï¼‰
    resources:
      cpu: 0.2
      memory: 256Mi

  # å‰ç«¯æœåŠ¡
  - name: frontend
    type: container
    source: ./frontend
    dockerfile: Dockerfile
    ports:
      - port: 80
        type: HTTP
    env:
      - VITE_API_BASE_URL=https://backend.zeabur.app/api/v1
    domains:
      - solararc.zeabur.app
    # èµ„æºé™åˆ¶ï¼ˆå¯é€‰ï¼‰
    resources:
      cpu: 0.1
      memory: 128Mi
```

---

## å››ã€ç¯å¢ƒå˜é‡é…ç½®

### 4.1 åç«¯ç¯å¢ƒå˜é‡

åœ¨Zeaburæ§åˆ¶å°é…ç½®ä»¥ä¸‹ç¯å¢ƒå˜é‡ï¼š

#### å¿…éœ€å˜é‡
```env
# æ•°æ®åº“è¿æ¥ï¼ˆZeaburè‡ªåŠ¨æ³¨å…¥ï¼‰
DATABASE_URL=${MYSQL_URL}

# åº”ç”¨é…ç½®
APP_NAME=SolarArc Pro
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# æ—¶åŒº
TZ=Asia/Shanghai
```

#### å¯é€‰å˜é‡
```env
# æ•°æ®åº“è¿æ¥æ± 
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5

# CORSé…ç½®
CORS_ORIGINS=https://solararc.zeabur.app,https://www.yourdomain.com

# é«˜å¾·åœ°å›¾APIï¼ˆå›½å†…ä½¿ç”¨ï¼‰
AMAP_API_KEY=your_amap_api_key

# å®‰å…¨å¯†é’¥
SECRET_KEY=your-secret-key-change-in-production

# æ–‡ä»¶ä¸Šä¼ 
MAX_UPLOAD_SIZE=10485760  # 10MB
```

### 4.2 å‰ç«¯ç¯å¢ƒå˜é‡

#### å¿…éœ€å˜é‡
```env
# APIåœ°å€
VITE_API_BASE_URL=https://your-backend.zeabur.app/api/v1

# åº”ç”¨é…ç½®
VITE_APP_NAME=SolarArc Pro
VITE_APP_VERSION=1.0.0
```

#### å¯é€‰å˜é‡
```env
# åœ°å›¾é…ç½®ï¼ˆé«˜å¾·åœ°å›¾ï¼‰
VITE_AMAP_KEY=your_amap_key
VITE_MAP_CENTER_LNG=116.397428
VITE_MAP_CENTER_LAT=39.90923
VITE_MAP_DEFAULT_ZOOM=12

# é»˜è®¤åŸå¸‚
VITE_DEFAULT_CITY=åŒ—äº¬
VITE_DEFAULT_CITY_CODE=110000

# åŠŸèƒ½å¼€å…³
VITE_ENABLE_ANALYSIS=true
VITE_ENABLE_EXPORT=true
VITE_ENABLE_DEBUG=false
```

---

## äº”ã€éƒ¨ç½²æ­¥éª¤

### 5.1 å‡†å¤‡ä»£ç ä»“åº“

1. åœ¨GitHubåˆ›å»ºä»“åº“ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
2. æ¨é€ä»£ç åˆ°GitHubï¼š
```bash
git init
git add .
git commit -m "Initial commit"
git branch -M main
git remote add origin https://github.com/yourusername/solararc-pro.git
git push -u origin main
```

### 5.2 éƒ¨ç½²MySQLæ•°æ®åº“

1. è¿›å…¥Zeaburé¡¹ç›®çš„ "Services" é¡µé¢
2. ç‚¹å‡» "New Service" â†’ "Database" â†’ "MySQL"
3. é…ç½®æ•°æ®åº“ï¼š
   - Name: `solararc-mysql`
   - Version: `8.0`
4. ç‚¹å‡» "Deploy"
5. ç­‰å¾…æ•°æ®åº“åˆ›å»ºå®Œæˆï¼ˆçº¦1-2åˆ†é’Ÿï¼‰
6. è®°å½•æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼ˆåœ¨æœåŠ¡è¯¦æƒ…é¡µæŸ¥çœ‹ï¼‰

### 5.3 éƒ¨ç½²åç«¯æœåŠ¡

#### æ–¹å¼1: ä½¿ç”¨zeabur.ymlï¼ˆæ¨èï¼‰

å¦‚æœå·²åˆ›å»º `zeabur.yml` æ–‡ä»¶ï¼š

1. åœ¨Zeaburé¡¹ç›®é¡µé¢ç‚¹å‡» "Import from GitHub"
2. é€‰æ‹©ä½ çš„GitHubä»“åº“
3. Zeaburä¼šè‡ªåŠ¨è¯†åˆ«é…ç½®æ–‡ä»¶
4. ç¡®è®¤é…ç½®ï¼Œç‚¹å‡» "Deploy"

#### æ–¹å¼2: æ‰‹åŠ¨é…ç½®

1. ç‚¹å‡» "New Service" â†’ "Git" â†’ é€‰æ‹©ä½ çš„ä»“åº“
2. é…ç½®æœåŠ¡ï¼š
   - Service Name: `backend`
   - Root Directory: `/backend`
   - Dockerfile Path: `Dockerfile`
3. é…ç½®ç¯å¢ƒå˜é‡ï¼ˆè§4.1èŠ‚ï¼‰
4. ç‚¹å‡» "Deploy"
5. ç­‰å¾…éƒ¨ç½²å®Œæˆï¼ˆé¦–æ¬¡çº¦3-5åˆ†é’Ÿï¼‰

### 5.4 éƒ¨ç½²å‰ç«¯æœåŠ¡

é‡å¤5.3æ­¥éª¤ï¼Œé…ç½®å‰ç«¯æœåŠ¡ï¼š
- Service Name: `frontend`
- Root Directory: `/frontend`
- Dockerfile Path: `Dockerfile`
- ç¯å¢ƒå˜é‡ï¼ˆè§4.2èŠ‚ï¼‰

### 5.5 éªŒè¯éƒ¨ç½²

1. åœ¨Zeaburæ§åˆ¶å°æŸ¥çœ‹æ‰€æœ‰æœåŠ¡çŠ¶æ€ï¼ˆåº”ä¸ºç»¿è‰²âœ“ï¼‰
2. è®¿é—®å‰ç«¯åŸŸåï¼š`https://solararc.zeabur.app`
3. æµ‹è¯•APIï¼š`https://backend.zeabur.app/api/v1/health`

---

## å…­ã€åŸŸåä¸HTTPS

### 6.1 ä½¿ç”¨é»˜è®¤åŸŸå

Zeaburè‡ªåŠ¨æä¾› `.zeabur.app` å­åŸŸåï¼š
- å‰ç«¯ï¼š`https://solararc.zeabur.app`
- åç«¯ï¼š`https://solararc-backend.zeabur.app`

**è‡ªåŠ¨HTTPS**: Zeaburè‡ªåŠ¨ä¸ºæ‰€æœ‰åŸŸåç”³è¯·SSLè¯ä¹¦ã€‚

### 6.2 é…ç½®è‡ªå®šä¹‰åŸŸå

#### æ­¥éª¤1: æ·»åŠ åŸŸå

1. è¿›å…¥æœåŠ¡è®¾ç½® â†’ "Domains"
2. ç‚¹å‡» "Add Domain"
3. è¾“å…¥è‡ªå®šä¹‰åŸŸåï¼š`solararc.yourdomain.com`
4. ç‚¹å‡» "Add"

#### æ­¥éª¤2: é…ç½®DNS

åœ¨ä½ çš„åŸŸåæ³¨å†Œå•†ï¼ˆå¦‚é˜¿é‡Œäº‘ã€è…¾è®¯äº‘ï¼‰æ·»åŠ DNSè®°å½•ï¼š

| ç±»å‹ | åç§° | å€¼ | TTL |
|------|------|-----|-----|
| CNAME | solararc | cname.zeabur.app | 600 |
| CNAME | api | cname.zeabur.app | 600 |

#### æ­¥éª¤3: éªŒè¯DNS

ç­‰å¾…DNSç”Ÿæ•ˆï¼ˆé€šå¸¸5-30åˆ†é’Ÿï¼‰ï¼š

```bash
# æ£€æŸ¥DNSè§£æ
nslookup solararc.yourdomain.com

# åº”è¿”å›: cname.zeabur.app
```

#### æ­¥éª¤4: HTTPSè¯ä¹¦

Zeaburä¼šè‡ªåŠ¨ç”³è¯·Let's Encryptè¯ä¹¦ï¼Œé€šå¸¸åœ¨DNSç”Ÿæ•ˆå5åˆ†é’Ÿå†…å®Œæˆã€‚

### 6.3 å›½å†…åŸŸåå¤‡æ¡ˆ

å¦‚æœä½¿ç”¨ `.cn` åŸŸåæˆ–éœ€è¦åœ¨å¤§é™†æä¾›é•¿æœŸæœåŠ¡ï¼Œéœ€è¦è¿›è¡ŒICPå¤‡æ¡ˆï¼š

1. åœ¨åŸŸåæ³¨å†Œå•†å¤„å¤‡æ¡ˆ
2. å¤‡æ¡ˆé€šè¿‡åï¼Œåœ¨Zeaburä¸­å¤‡æ¡ˆ
3. æäº¤å¤‡æ¡ˆå·ç»™Zeaburå®¢æœ

**å»ºè®®**: åˆæœŸä½¿ç”¨ `.com` æˆ– `.net` åŸŸåï¼Œæ— éœ€å¤‡æ¡ˆã€‚

---

## ä¸ƒã€ç›‘æ§ä¸ç»´æŠ¤

### 7.1 å®æ—¶ç›‘æ§

åœ¨Zeabur Dashboardå¯ä»¥æŸ¥çœ‹ï¼š

#### æœåŠ¡çŠ¶æ€
- CPUä½¿ç”¨ç‡
- å†…å­˜ä½¿ç”¨é‡
- ç£ç›˜å ç”¨
- ç½‘ç»œæµé‡

#### æ—¥å¿—æŸ¥çœ‹
```bash
# ä½¿ç”¨Zeabur CLIï¼ˆéœ€è¦å®‰è£…ï¼‰
zeabur logs backend --follow
zeabur logs frontend --tail 100
```

æˆ–åœ¨Webç•Œé¢æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚

### 7.2 æ•°æ®åº“ç›‘æ§

MySQLæ•°æ®åº“ç›‘æ§æŒ‡æ ‡ï¼š
- è¿æ¥æ•°
- æŸ¥è¯¢QPS
- æ…¢æŸ¥è¯¢æ—¥å¿—
- å­˜å‚¨ç©ºé—´

### 7.3 å‘Šè­¦è®¾ç½®ï¼ˆä»˜è´¹åŠŸèƒ½ï¼‰

å…è´¹ç‰ˆä»…æ”¯æŒåŸºç¡€ç›‘æ§ï¼Œä»˜è´¹ç‰ˆå¯é…ç½®ï¼š
- CPU/å†…å­˜å‘Šè­¦
- æœåŠ¡å®•æœºå‘Šè­¦
- è‡ªå®šä¹‰Webhook

### 7.4 æ•°æ®å¤‡ä»½

#### è‡ªåŠ¨å¤‡ä»½
Zeaburè‡ªåŠ¨æ¯å¤©å¤‡ä»½MySQLæ•°æ®åº“ï¼Œä¿ç•™7å¤©ã€‚

#### æ‰‹åŠ¨å¤‡ä»½
```bash
# é€šè¿‡SSHè¿æ¥
zeabur ssh backend

# å¯¼å‡ºæ•°æ®åº“
mysqldump -h solararc-mysql -u root -p solararc_pro > backup.sql

# ä¸‹è½½åˆ°æœ¬åœ°
zeabur cp backend:/app/backup.sql ./backup.sql
```

#### æ¢å¤æ•°æ®
```bash
# ä¸Šä¼ å¤‡ä»½æ–‡ä»¶
zeabur cp ./backup.sql backend:/app/backup.sql

# æ¢å¤æ•°æ®åº“
zeabur ssh backend
mysql -h solararc-mysql -u root -p solararc_pro < backup.sql
```

---

## å…«ã€å¸¸è§é—®é¢˜

### 8.1 éƒ¨ç½²å¤±è´¥

#### é—®é¢˜: Dockeræ„å»ºå¤±è´¥

**ç—‡çŠ¶**: æ„å»ºæ—¥å¿—æ˜¾ç¤ºé”™è¯¯

**è§£å†³**:
1. æ£€æŸ¥Dockerfileè¯­æ³•
2. ç¡®è®¤ä¾èµ–åŒ…ç‰ˆæœ¬å…¼å®¹
3. æŸ¥çœ‹æ„å»ºæ—¥å¿—æ‰¾åˆ°å…·ä½“é”™è¯¯

#### é—®é¢˜: å†…å­˜ä¸è¶³å¯¼è‡´æœåŠ¡é‡å¯

**ç—‡çŠ¶**: æœåŠ¡é¢‘ç¹é‡å¯ï¼Œæ—¥å¿—æ˜¾ç¤º "OOMKilled"

**è§£å†³**:
1. å‡å°‘gunicorn workeræ•°é‡ï¼š
```python
# backend/Dockerfile
CMD ["gunicorn", "main:app", "--workers", "1", "--threads", "2"]
```

2. ä¼˜åŒ–Pythonä¾èµ–ï¼Œç§»é™¤ä¸å¿…è¦çš„åŒ…

3. å‡çº§åˆ°ä»˜è´¹å¥—é¤ï¼ˆæ›´å¤šå†…å­˜ï¼‰

### 8.2 è¿æ¥é—®é¢˜

#### é—®é¢˜: æ— æ³•è¿æ¥åˆ°æ•°æ®åº“

**ç—‡çŠ¶**: APIè¿”å›500é”™è¯¯ï¼Œæ—¥å¿—æ˜¾ç¤ºæ•°æ®åº“è¿æ¥å¤±è´¥

**è§£å†³**:
1. ç¡®è®¤DATABASE_URLç¯å¢ƒå˜é‡æ­£ç¡®
2. æ£€æŸ¥æ•°æ®åº“æœåŠ¡æ˜¯å¦è¿è¡Œ
3. ç¡®è®¤ç½‘ç»œè¿æ¥ï¼ˆåç«¯å’Œæ•°æ®åº“åœ¨åŒä¸€VPCï¼‰

#### é—®é¢˜: CORSé”™è¯¯

**ç—‡çŠ¶**: æµè§ˆå™¨æ§åˆ¶å°æ˜¾ç¤ºCORS policyé”™è¯¯

**è§£å†³**:
1. åœ¨åç«¯CORS_ORIGINSæ·»åŠ å‰ç«¯åŸŸå
2. ç¡®è®¤å‰ç«¯APIåœ°å€é…ç½®æ­£ç¡®
3. æ£€æŸ¥åç«¯CORSä¸­é—´ä»¶é…ç½®

### 8.3 æ€§èƒ½é—®é¢˜

#### é—®é¢˜: APIå“åº”æ…¢

**è§£å†³**:
1. å¯ç”¨æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜
2. ä¼˜åŒ–N+1æŸ¥è¯¢é—®é¢˜
3. ä½¿ç”¨Redisç¼“å­˜çƒ­ç‚¹æ•°æ®
4. å¢åŠ gunicorn workeræ•°é‡

#### é—®é¢˜: å‰ç«¯åŠ è½½æ…¢

**è§£å†³**:
1. å¯ç”¨Nginx Gzipå‹ç¼©ï¼ˆå·²é…ç½®ï¼‰
2. ä½¿ç”¨CDNåŠ é€Ÿé™æ€èµ„æº
3. å®ç°ä»£ç åˆ†å‰²ï¼ˆCode Splittingï¼‰
4. æ‡’åŠ è½½éå…³é”®ç»„ä»¶

---

## ä¹ã€æˆæœ¬ä¼˜åŒ–

### 9.1 å…è´¹é¢åº¦ä¼˜åŒ–ç­–ç•¥

| ä¼˜åŒ–é¡¹ | ç­–ç•¥ | èŠ‚çœ |
|--------|------|------|
| **CPU** | å‡å°‘workeræ•°é‡ï¼Œä½¿ç”¨å¼‚æ­¥ä»»åŠ¡ | 50% |
| **å†…å­˜** | ä½¿ç”¨gunicorné¢„åŠ è½½ï¼Œæ¸…ç†ç¼“å­˜ | 30% |
| **å¸¦å®½** | å¯ç”¨Gzipï¼Œä½¿ç”¨WebPæ ¼å¼ | 70% |
| **æ•°æ®åº“** | å®šæœŸæ¸…ç†æ—¥å¿—è¡¨ï¼Œä¼˜åŒ–æŸ¥è¯¢ | 20% |

### 9.2 è¶…å‡ºå…è´¹é¢åº¦çš„å¤„ç†

#### è­¦å‘Šé˜ˆå€¼
- CPUä½¿ç”¨ç‡ > 80%
- å†…å­˜ä½¿ç”¨ç‡ > 90%
- æµé‡ > 40GB/æœˆ

#### å¤„ç†æ–¹æ¡ˆ

**æ–¹æ¡ˆ1: ä¼˜åŒ–ä»£ç ï¼ˆæ¨èï¼‰**
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢
- å‡å°‘ä¸å¿…è¦çš„APIè°ƒç”¨
- å¯ç”¨å®¢æˆ·ç«¯ç¼“å­˜

**æ–¹æ¡ˆ2: å‡çº§å¥—é¤**

| å¥—é¤ | é…ç½® | ä»·æ ¼ | é€‚åˆ |
|------|------|------|------|
| å…è´¹ç‰ˆ | 0.2 vCPU, 256MB RAM | Â¥0 | æ¼”ç¤º/æµ‹è¯• |
| åŸºç¡€ç‰ˆ | 0.5 vCPU, 512MB RAM | Â¥10/æœˆ | ä¸ªäººé¡¹ç›® |
| æ ‡å‡†ç‰ˆ | 1 vCPU, 1GB RAM | Â¥30/æœˆ | å°å‹åº”ç”¨ |
| ä¸“ä¸šç‰ˆ | 2 vCPU, 2GB RAM | Â¥80/æœˆ | ç”Ÿäº§ç¯å¢ƒ |

### 9.3 é•¿æœŸæˆæœ¬ä¼°ç®—

å‡è®¾æ—¥æ´»1000ç”¨æˆ·çš„åœºæ™¯ï¼š

| é¡¹ç›® | å…è´¹ç‰ˆ | æ ‡å‡†ç‰ˆ | ä¸“ä¸šç‰ˆ |
|------|--------|--------|--------|
| åŸºç¡€è´¹ç”¨ | Â¥0 | Â¥30/æœˆ | Â¥80/æœˆ |
| é¢å¤–æµé‡ | Â¥20/æœˆ | Â¥10/æœˆ | Â¥5/æœˆ |
| æ•°æ®åº“ | Â¥0 | Â¥15/æœˆ | Â¥15/æœˆ |
| **åˆè®¡** | **Â¥20/æœˆ** | **Â¥55/æœˆ** | **Â¥100/æœˆ** |

**å»ºè®®**: åˆæœŸä½¿ç”¨å…è´¹ç‰ˆï¼Œç”¨æˆ·é‡å¢é•¿åå†å‡çº§ã€‚

---

## åã€è¿›é˜¶é…ç½®

### 10.1 ä½¿ç”¨Redisç¼“å­˜

åˆ›å»ºRediså®ä¾‹ï¼š

```yaml
databases:
  - name: solararc-redis
    type: redis
    version: "7.0"
```

åç«¯é›†æˆRedisï¼š

```python
# backend/app/cache.py
import redis
from typing import Optional

redis_client = redis.Redis(
    host='solararc-redis',
    port=6379,
    db=0,
    decode_responses=True
)

def cache_get(key: str) -> Optional[str]:
    return redis_client.get(key)

def cache_set(key: str, value: str, ttl: int = 3600):
    redis_client.setex(key, ttl, value)
```

### 10.2 å®šæ—¶ä»»åŠ¡

ä½¿ç”¨Celeryæ‰§è¡Œå®šæ—¶ä»»åŠ¡ï¼š

```python
# backend/app/tasks.py
from celery import Celery

celery_app = Celery('solararc')
celery_app.config_from_object('celeryconfig')

@celery_app.task
def calculate_daily_shadows():
    """æ¯å¤©å‡Œæ™¨2ç‚¹è®¡ç®—æ‰€æœ‰å»ºç­‘é˜´å½±"""
    # ... è®¡ç®—é€»è¾‘
    pass
```

é…ç½®å®šæ—¶ä»»åŠ¡ï¼š

```python
# backend/celeryconfig.py
from celery.schedules import crontab

beat_schedule = {
    'calculate-daily-shadows': {
        'task': 'tasks.calculate_daily_shadows',
        'schedule': crontab(hour=2, minute=0),
    },
}
```

### 10.3 å¤šç¯å¢ƒéƒ¨ç½²

é…ç½®å¼€å‘/æµ‹è¯•/ç”Ÿäº§ç¯å¢ƒï¼š

```yaml
# zeabur.prod.yml (ç”Ÿäº§ç¯å¢ƒ)
databases:
  - name: solararc-mysql-prod
    type: mysql

services:
  - name: backend-prod
    env:
      - ENV=production
    domains:
      - api.solararc.com

# zeabur.dev.yml (å¼€å‘ç¯å¢ƒ)
databases:
  - name: solararc-mysql-dev
    type: mysql

services:
  - name: backend-dev
    env:
      - ENV=development
    domains:
      - api-dev.solararc.zeabur.app
```

---

## åä¸€ã€æ•…éšœæ’æŸ¥æ¸…å•

### 11.1 éƒ¨ç½²é˜¶æ®µæ£€æŸ¥

- [ ] Dockerfileè¯­æ³•æ­£ç¡®
- [ ] ç«¯å£é…ç½®æ­£ç¡®ï¼ˆåç«¯8000ï¼Œå‰ç«¯80ï¼‰
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] ä¾èµ–æœåŠ¡ï¼ˆæ•°æ®åº“ï¼‰å·²å¯åŠ¨
- [ ] GitHubä»£ç å·²æ¨é€åˆ°mainåˆ†æ”¯

### 11.2 è¿è¡Œé˜¶æ®µæ£€æŸ¥

- [ ] æœåŠ¡çŠ¶æ€æ­£å¸¸ï¼ˆç»¿è‰²âœ“ï¼‰
- [ ] æ—¥å¿—æ— é”™è¯¯ä¿¡æ¯
- [ ] CPU/å†…å­˜æœªè¶…é™
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] åŸŸåDNSè§£ææ­£ç¡®

### 11.3 æ€§èƒ½æ£€æŸ¥

- [ ] APIå“åº”æ—¶é—´ < 500ms
- [ ] å‰ç«¯é¦–å±åŠ è½½ < 3s
- [ ] æ•°æ®åº“æŸ¥è¯¢ < 100ms
- [ ] å¸¦å®½ä½¿ç”¨åˆç†

---

## åäºŒã€å‚è€ƒèµ„æ–™

### 12.1 å®˜æ–¹æ–‡æ¡£
- [Zeaburå®˜æ–¹æ–‡æ¡£](https://zeabur.com/docs)
- [Zeabur CLIä½¿ç”¨æŒ‡å—](https://zeabur.com/docs/cli)
- [Zeaburéƒ¨ç½²æœ€ä½³å®è·µ](https://zeabur.com/docs/best-practices)

### 12.2 ç›¸å…³æŠ€æœ¯
- [Dockerå®˜æ–¹æ–‡æ¡£](https://docs.docker.com/)
- [FastAPIéƒ¨ç½²æŒ‡å—](https://fastapi.tiangolo.com/deployment/)
- [Viteç”Ÿäº§æ„å»º](https://vitejs.dev/guide/build.html)
- [Nginxé…ç½®æŒ‡å—](https://nginx.org/en/docs/)

### 12.3 ç¤¾åŒºèµ„æº
- [Zeabur Discordç¤¾åŒº](https://discord.gg/zeabur)
- [GitHubè®¨è®ºåŒº](https://github.com/zeabur/discussions)
- [Stack Overflowæ ‡ç­¾](https://stackoverflow.com/questions/tagged/zeabur)

---

## åä¸‰ã€è”ç³»æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š

1. **æŸ¥çœ‹æ–‡æ¡£**: [Zeabur Docs](https://zeabur.com/docs)
2. **ç¤¾åŒºæ”¯æŒ**: [Discord](https://discord.gg/zeabur)
3. **æäº¤Issue**: [GitHub Issues](https://github.com/zeabur/zeabur/issues)
4. **é‚®ä»¶æ”¯æŒ**: support@zeabur.comï¼ˆä»˜è´¹ç”¨æˆ·ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æ›´æ–°æ—¥æœŸ**: 2026-01-29
**ç»´æŠ¤è€…**: SolarArc Pro å¼€å‘å›¢é˜Ÿ
